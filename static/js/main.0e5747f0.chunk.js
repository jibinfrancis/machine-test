(this.webpackJsonpmachinetest=this.webpackJsonpmachinetest||[]).push([[0],{177:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(52),s=a.n(r),o=(a(58),a(1)),i=a.n(o),u=a(4),l=a(5),d=(a(60),a(53)),p=a(0),b=function(){return Object(p.jsx)("div",{className:"navBar",children:Object(p.jsx)("h1",{children:"Openaq"})})},h=a(11),j=a.n(h),f="https://u50g7n0cbj.execute-api.us-east-1.amazonaws.com/v2/",v="".concat(f,"locations"),x="".concat(f,"averages"),m="".concat(f,"cities"),O="".concat(f,"measurements");function g(){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(m+"?limit=100&page=1&offset=0&sort=asc&order_by=city&country=IN",{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(v+"?limit=100&page=1&offset=0&sort=desc&radius=1000&order_by=lastUpdated&dumpRaw=false&city="+t,{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,a){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(i.a.mark((function e(t,a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(x+"?parameter="+t+"&temporal=hour&limit=10000&date_from="+a+"T00%3A00%3A00.000Z&date_to="+a+"T23%3A59%3A59.999Z&location="+n+"&spatial=location&sort=asc&order_by=hour",{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,a){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(i.a.mark((function e(t,a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(O+"?date_from="+a+"T00%3A00%3A00.000Z&date_to="+a+"T23%3A59%3A59.999Z&limit=1000&page=1&offset=0&sort=asc&parameter="+t+"&radius=1000&city="+n+"&order_by=datetime",{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),o=s[0],h=s[1],j=Object(n.useState)(""),f=Object(l.a)(j,2),v=f[0],x=f[1],m=Object(n.useState)(""),O=Object(l.a)(m,2),y=O[0],w=O[1],N=Object(n.useState)(!1),D=Object(l.a)(N,2),P=D[0],A=D[1],T=Object(n.useState)(""),F=Object(l.a)(T,2),_=F[0],E=F[1],H=Object(n.useState)(""),L=Object(l.a)(H,2),W=L[0],I=L[1],M=Object(n.useState)(!1),Z=Object(l.a)(M,2),q=Z[0],B=Z[1],J=Object(n.useState)("city"),R=Object(l.a)(J,2),z=R[0],G=R[1];Object(n.useEffect)((function(){U()}),[]);var U=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:t=e.sent,h(t.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!1),I(""),x(t.target.value),c(""),e.next=6,k(t.target.value);case 6:a=e.sent,n=a.data.results.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),w(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){e!==z&&(G(e),x(""),E(""),I(""),c(""))},V=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==W&&""!==v){e.next=4;break}B(!0),e.next=43;break;case 4:return A(!0),t=[],a=[],n=[],e.prev=8,e.next=11,S("pm25",W,v);case 11:200===(r=e.sent).status&&(null===r||void 0===r||r.data.results.forEach((function(e){t.push({x:new Date(e.date.utc).getHours(),y:e.value})}))),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0),A(!1);case 19:return e.prev=19,e.next=22,S("no2",W,v);case 22:200===(s=e.sent).status&&(null===s||void 0===s||s.data.results.forEach((function(e){a.push({x:new Date(e.date.utc).getHours(),y:e.value})}))),e.next=30;break;case 26:e.prev=26,e.t1=e.catch(19),A(!1),console.log(e.t1);case 30:return e.prev=30,e.next=33,S("pm10",W,v);case 33:200===(o=e.sent).status&&(null===o||void 0===o||o.data.results.forEach((function(e){n.push({x:new Date(e.date.utc).getHours(),y:e.value})}))),e.next=41;break;case 37:e.prev=37,e.t2=e.catch(30),console.log(e.t2),A(!1);case 41:c({datasets:[{label:"Pollution Data(PM2.5)",data:t,backgroundColor:"rgba(255, 99, 132, 1)",borderWidth:4},{label:"Pollution Data(NO2)",data:a,backgroundColor:"#61dafb",borderWidth:4},{label:"Pollution Data(PM10)",data:n,backgroundColor:"aquablue",borderWidth:4}]}),A(!1);case 43:case"end":return e.stop()}}),e,null,[[8,15],[19,26],[30,37]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==_&&""!==W&&""!==v){e.next=4;break}B(!0),e.next=43;break;case 4:return A(!0),t=[],a=[],n=[],e.prev=8,e.next=11,C("pm25",W,_);case 11:200===(r=e.sent).status&&(null===r||void 0===r||r.data.results.forEach((function(e){t.push({x:new Date(e.hour).getHours(),y:e.average})}))),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0),A(!1);case 19:return e.prev=19,e.next=22,C("no2",W,_);case 22:200===(s=e.sent).status&&(null===s||void 0===s||s.data.results.forEach((function(e){a.push({x:new Date(e.hour).getHours(),y:e.average})}))),e.next=30;break;case 26:e.prev=26,e.t1=e.catch(19),A(!1),console.log(e.t1);case 30:return e.prev=30,e.next=33,C("pm10",W,_);case 33:200===(o=e.sent).status&&(null===o||void 0===o||o.data.results.forEach((function(e){n.push({x:new Date(e.hour).getHours(),y:e.average})}))),e.next=41;break;case 37:e.prev=37,e.t2=e.catch(30),console.log(e.t2),A(!1);case 41:c({datasets:[{label:"Pollution Data(PM2.5)",data:t,backgroundColor:"rgba(255, 99, 132, 1)",borderWidth:4},{label:"Pollution Data(NO2)",data:a,backgroundColor:"#61dafb",borderWidth:4},{label:"Pollution Data(PM10)",data:n,backgroundColor:"aquablue",borderWidth:4}]}),A(!1);case 43:case"end":return e.stop()}}),e,null,[[8,15],[19,26],[30,37]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(b,{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"header",children:Object(p.jsx)("p",{children:"Get the daily pollution data based on "})}),Object(p.jsxs)("div",{className:"category",children:[Object(p.jsx)("button",{onClick:function(){return Q("city")},className:"city"===z?"btn btn-category active":"btn btn-category",children:"City"}),Object(p.jsx)("button",{onClick:function(){return Q("location")},className:"location"===z?"btn btn-category active":"btn btn-category",children:"Location"})]}),Object(p.jsxs)("div",{className:"location"===z?"search show":" search hide",children:[Object(p.jsxs)("select",{value:v,className:"inputFields",placeholder:"select city",onChange:K,children:[Object(p.jsx)("option",{value:"",children:"Select city"}),o.length>0&&o.map((function(e,t){return Object(p.jsx)("option",{value:e.city,children:e.city},t)}))]}),Object(p.jsxs)("select",{value:_,className:"inputFields",placeholder:"select Location",onChange:function(e){B(!1),I(""),E(e.target.value),c("")},children:[Object(p.jsx)("option",{value:"",children:"Select Location"}),y.length>0&&y.map((function(e,t){return Object(p.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(p.jsx)("input",{type:"date",value:W,placeholder:"dd-mm-yyyy",max:(new Date).toISOString().slice(0,10),className:"inputFields",onChange:function(e){c(""),I(e.target.value),B(!1)}}),Object(p.jsx)("button",{className:"btn",onClick:X,children:"proceed"})]}),Object(p.jsxs)("div",{className:"city"===z?"search":" search hide",children:[Object(p.jsxs)("select",{value:v,className:"inputFields",placeholder:"select city",onChange:K,children:[Object(p.jsx)("option",{value:"",children:"Select city"}),o.length>0&&o.map((function(e,t){return Object(p.jsx)("option",{value:e.city,children:e.city},t)}))]}),Object(p.jsx)("input",{type:"date",value:W,placeholder:"dd-mm-yyyy",max:(new Date).toISOString().slice(0,10),className:"inputFields",onChange:function(e){c(""),I(e.target.value),B(!1)}}),Object(p.jsx)("button",{className:"btn",onClick:V,children:"proceed"})]})]}),Object(p.jsx)("div",{className:"error_division",children:q&&Object(p.jsx)("p",{children:"Select relevant fields!"})}),Object(p.jsx)("div",{className:"graph",children:a&&Object(p.jsx)("div",{className:"content",children:Object(p.jsx)(d.Scatter,{data:a,options:{scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Hours"},ticks:{min:0,max:24}}],yAxes:[{scaleLabel:{display:!0,labelString:"Pollutant"},ticks:{min:0}}]},maintainAspectRatio:!1},height:"380px"})})}),P?Object(p.jsx)("div",{className:"lds-dual-ring"}):null]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,178)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(P,{})}),document.getElementById("root")),A()},58:function(e,t,a){},60:function(e,t,a){}},[[177,1,2]]]);
//# sourceMappingURL=main.0e5747f0.chunk.js.map