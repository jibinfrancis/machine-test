(this.webpackJsonpmachinetest=this.webpackJsonpmachinetest||[]).push([[0],{177:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(52),s=a.n(c),o=(a(58),a(2)),u=a.n(o),i=a(7),l=a(6),p=(a(60),a(53)),d=a(0),b=function(){return Object(d.jsx)("div",{className:"navBar",children:Object(d.jsx)("h1",{children:"Openaq"})})},h=a(17),j=a.n(h),f="https://u50g7n0cbj.execute-api.us-east-1.amazonaws.com/v2/",v="".concat(f,"locations"),x="".concat(f,"averages"),O="".concat(f,"cities");function m(){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(O+"?limit=100&page=1&offset=0&sort=asc&order_by=city&country=IN",{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(v+"?limit=100&page=1&offset=0&sort=desc&radius=1000&order_by=lastUpdated&dumpRaw=false&city="+t,{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,a){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(u.a.mark((function e(t,a,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(x+"?parameter="+t+"&temporal=hour&limit=10000&date_from="+a+"T00%3A00%3A00.000Z&date_to="+a+"T23%3A59%3A59.999Z&location="+n+"&spatial=location&sort=asc&order_by=hour",{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(l.a)(c,2),o=s[0],h=s[1],j=Object(n.useState)(""),f=Object(l.a)(j,2),v=f[0],x=f[1],O=Object(n.useState)(""),g=Object(l.a)(O,2),k=g[0],S=g[1],C=Object(n.useState)(!1),N=Object(l.a)(C,2),P=N[0],A=N[1],D=Object(n.useState)(""),F=Object(l.a)(D,2),T=F[0],L=F[1],_=Object(n.useState)(""),E=Object(l.a)(_,2),H=E[0],B=E[1],I=Object(n.useState)(!1),M=Object(l.a)(I,2),W=M[0],q=M[1];Object(n.useEffect)((function(){J()}),[]);var J=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:t=e.sent,h(t.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!1),B(""),x(t.target.value),r(""),e.next=6,y(t.target.value);case 6:a=e.sent,n=a.data.results.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),S(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a,n,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==T&&""!==H&&""!==v){e.next=4;break}q(!0),e.next=43;break;case 4:return A(!0),t=[],a=[],n=[],e.prev=8,e.next=11,w("pm25",H,T);case 11:200===(c=e.sent).status&&(null===c||void 0===c||c.data.results.forEach((function(e){t.push({x:new Date(e.hour).getHours(),y:e.average})}))),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0),A(!1);case 19:return e.prev=19,e.next=22,w("no2",H,T);case 22:200===(s=e.sent).status&&(null===s||void 0===s||s.data.results.forEach((function(e){a.push({x:new Date(e.hour).getHours(),y:e.average})}))),e.next=30;break;case 26:e.prev=26,e.t1=e.catch(19),A(!1),console.log(e.t1);case 30:return e.prev=30,e.next=33,w("pm10",H,T);case 33:200===(o=e.sent).status&&(null===o||void 0===o||o.data.results.forEach((function(e){n.push({x:new Date(e.hour).getHours(),y:e.average})}))),e.next=41;break;case 37:e.prev=37,e.t2=e.catch(30),console.log(e.t2),A(!1);case 41:r({datasets:[{label:"Pollution Data(PM2.5)",data:t,backgroundColor:"rgba(255, 99, 132, 1)",borderWidth:4},{label:"Pollution Data(NO2)",data:a,backgroundColor:"#61dafb",borderWidth:4},{label:"Pollution Data(PM10)",data:n,backgroundColor:"aquablue",borderWidth:4}]}),A(!1);case 43:case"end":return e.stop()}}),e,null,[[8,15],[19,26],[30,37]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(b,{}),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"search",children:[Object(d.jsxs)("select",{value:v,className:"inputFields",placeholder:"select city",onChange:Z,children:[Object(d.jsx)("option",{value:"",children:"Select city"}),o.length>0&&o.map((function(e,t){return Object(d.jsx)("option",{value:e.city,children:e.city},t)}))]}),Object(d.jsxs)("select",{value:T,className:"inputFields",placeholder:"select Location",onChange:function(e){q(!1),B(""),L(e.target.value),r("")},children:[Object(d.jsx)("option",{value:"",children:"Select Location"}),k.length>0&&k.map((function(e,t){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(d.jsx)("input",{type:"date",value:H,className:"inputFields",onChange:function(e){r(""),B(e.target.value),q(!1)}}),Object(d.jsx)("button",{className:"btn",onClick:z,children:"proceed"})]})}),Object(d.jsx)("div",{className:"error_division",children:W&&Object(d.jsx)("p",{children:"Select relevant fields!"})}),Object(d.jsx)("div",{className:"graph",children:a&&Object(d.jsx)("div",{className:"content",children:Object(d.jsx)(p.Scatter,{data:a,options:{scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Hours"},ticks:{min:0,max:24}}],yAxes:[{scaleLabel:{display:!0,labelString:"Pollutant"},ticks:{min:0}}]}}})})}),P?Object(d.jsx)("div",{className:"lds-dual-ring"}):null]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,178)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root")),N()},58:function(e,t,a){},60:function(e,t,a){}},[[177,1,2]]]);
//# sourceMappingURL=main.749dd9cd.chunk.js.map